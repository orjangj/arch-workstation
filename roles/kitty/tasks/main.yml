---

- name: Apply Debian install method
  ansible.builtin.include_tasks: debian.yml
  when: ansible_os_family == 'Debian'

- name: Apply Arch install method
  ansible.builtin.include_tasks: arch.yml
  when: ansible_os_family == 'Archlinux'

- name: Apply Fedora install method
  ansible.builtin.include_tasks: fedora.yml
  when: ansible_distribution == 'Fedora'

- name: "Install optional dependencies"
  become: yes
  ansible.builtin.package:
    name: "{{ 'ImageMagick' if ansible_distribution == 'Fedora' else 'imagemagick' }}"
  when: kitty_with_optional_dependencies
